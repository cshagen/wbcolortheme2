{"version":3,"file":"css/ChargePointInstallation.910c4aa2.css","mappings":"AA25BA,4BACC,cACD","sources":["webpack://openwb-ui-settings/./src/views/ChargePointInstallation.vue"],"sourcesContent":["<template>\n\t<!-- modal dialogs -->\n\t<openwb-base-modal-dialog\n\t\t:show=\"showChargePointModal\"\n\t\ttitle=\"Ladepunkt löschen\"\n\t\tsubtype=\"danger\"\n\t\t:buttons=\"[{ text: 'Löschen', event: 'confirm', subtype: 'danger' }]\"\n\t\t@modal-result=\"removeChargePoint(modalChargePointIndex, $event)\"\n\t>\n\t\tWollen Sie den Ladepunkt \"{{\n\t\t\tgetChargePointName(modalChargePointIndex)\n\t\t}}\" (ID: {{ modalChargePointIndex }}) wirklich entfernen? Dieser Vorgang\n\t\tkann nicht rückgängig gemacht werden!\n\t</openwb-base-modal-dialog>\n\t<openwb-base-modal-dialog\n\t\t:show=\"showChargePointTemplateModal\"\n\t\ttitle=\"Ladepunkt-Vorlage löschen\"\n\t\tsubtype=\"danger\"\n\t\t:buttons=\"[{ text: 'Löschen', event: 'confirm', subtype: 'danger' }]\"\n\t\t@modal-result=\"\n\t\t\tremoveChargePointTemplate(modalChargePointTemplateIndex, $event)\n\t\t\"\n\t>\n\t\tWollen Sie die Ladepunkt-Vorlage \"{{\n\t\t\tgetChargePointTemplateName(modalChargePointTemplateIndex)\n\t\t}}\" (ID: {{ modalChargePointTemplateIndex }}) wirklich entfernen? Dieser\n\t\tVorgang kann nicht rückgängig gemacht werden!\n\t</openwb-base-modal-dialog>\n\t<openwb-base-modal-dialog\n\t\t:show=\"showChargePointTemplateAutolockPlanModal\"\n\t\ttitle=\"Autolock Zeitplan löschen\"\n\t\tsubtype=\"danger\"\n\t\t:buttons=\"[{ text: 'Löschen', event: 'confirm', subtype: 'danger' }]\"\n\t\t@modal-result=\"\n\t\t\tremoveChargePointTemplateAutolockPlan(\n\t\t\t\tmodalChargePointTemplateIndex,\n\t\t\t\tmodalChargePointTemplateAutolockPlanIndex,\n\t\t\t\t$event\n\t\t\t)\n\t\t\"\n\t>\n\t\tWollen Sie den Autolock Zeitplan \"{{\n\t\t\tgetChargePointTemplateAutolockPlanName(\n\t\t\t\tmodalChargePointTemplateIndex,\n\t\t\t\tmodalChargePointTemplateAutolockPlanIndex\n\t\t\t)\n\t\t}}\" wirklich entfernen? Dieser Vorgang kann nicht rückgängig gemacht\n\t\twerden!\n\t</openwb-base-modal-dialog>\n\t<!-- main content -->\n\t<div class=\"chargePointInstallation\">\n\t\t<form name=\"chargePointInstallationForm\">\n\t\t\t<!-- charge point card -->\n\t\t\t<openwb-base-card\n\t\t\t\ttitle=\"Ladepunkte\"\n\t\t\t\t:collapsible=\"true\"\n\t\t\t\t:collapsed=\"true\"\n\t\t\t>\n\t\t\t\t<openwb-base-select-input\n\t\t\t\t\tclass=\"mb-2\"\n\t\t\t\t\ttitle=\"Verfügbare Ladepunkte\"\n\t\t\t\t\tnotSelected=\"Bitte auswählen\"\n\t\t\t\t\t:options=\"getChargePointList()\"\n\t\t\t\t\t:model-value=\"chargePointToAdd\"\n\t\t\t\t\t@update:model-value=\"chargePointToAdd = $event\"\n\t\t\t\t>\n\t\t\t\t\t<template #append>\n\t\t\t\t\t\t<span class=\"col-1\">\n\t\t\t\t\t\t\t<openwb-base-click-button\n\t\t\t\t\t\t\t\t:class=\"\n\t\t\t\t\t\t\t\t\tchargePointToAdd === undefined\n\t\t\t\t\t\t\t\t\t\t? 'btn-outline-success'\n\t\t\t\t\t\t\t\t\t\t: 'btn-success'\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t:disabled=\"chargePointToAdd === undefined\"\n\t\t\t\t\t\t\t\t@click=\"addChargePoint\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<font-awesome-icon\n\t\t\t\t\t\t\t\t\tfixed-width\n\t\t\t\t\t\t\t\t\t:icon=\"['fas', 'plus']\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</openwb-base-click-button>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template #help>\n\t\t\t\t\t\tBitte einen Ladepunkt auswählen, der hinzugefügt werden\n\t\t\t\t\t\tsoll.\n\t\t\t\t\t</template>\n\t\t\t\t</openwb-base-select-input>\n\t\t\t\t<openwb-base-card\n\t\t\t\t\tv-for=\"(\n\t\t\t\t\t\tinstalledChargePoint, installedChargePointKey\n\t\t\t\t\t) in installedChargePoints\"\n\t\t\t\t\t:key=\"installedChargePointKey\"\n\t\t\t\t\t:title=\"\n\t\t\t\t\t\tinstalledChargePoint.name +\n\t\t\t\t\t\t' (ID: ' +\n\t\t\t\t\t\tinstalledChargePoint.id +\n\t\t\t\t\t\t')'\n\t\t\t\t\t\"\n\t\t\t\t\t:collapsible=\"true\"\n\t\t\t\t\t:collapsed=\"true\"\n\t\t\t\t\tsubtype=\"primary\"\n\t\t\t\t>\n\t\t\t\t\t<template #actions>\n\t\t\t\t\t\t<openwb-base-avatar\n\t\t\t\t\t\t\tclass=\"bg-danger clickable\"\n\t\t\t\t\t\t\t@click=\"\n\t\t\t\t\t\t\t\tremoveChargePointModal(\n\t\t\t\t\t\t\t\t\tinstalledChargePointKey,\n\t\t\t\t\t\t\t\t\t$event\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<font-awesome-icon\n\t\t\t\t\t\t\t\tfixed-width\n\t\t\t\t\t\t\t\t:icon=\"['fas', 'trash']\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</openwb-base-avatar>\n\t\t\t\t\t</template>\n\t\t\t\t\t<openwb-base-text-input\n\t\t\t\t\t\ttitle=\"Bezeichnung\"\n\t\t\t\t\t\tsubtype=\"text\"\n\t\t\t\t\t\t:model-value=\"installedChargePoint.name\"\n\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\tupdateState(installedChargePointKey, $event, 'name')\n\t\t\t\t\t\t\"\n\t\t\t\t\t/>\n\t\t\t\t\t<openwb-base-select-input\n\t\t\t\t\t\ttitle=\"Ladepunkt-Vorlage\"\n\t\t\t\t\t\t:options=\"chargePointTemplateList\"\n\t\t\t\t\t\t:model-value=\"\n\t\t\t\t\t\t\t$store.state.mqtt[installedChargePointKey].template\n\t\t\t\t\t\t\"\n\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\tupdateState(\n\t\t\t\t\t\t\t\tinstalledChargePointKey,\n\t\t\t\t\t\t\t\t$event,\n\t\t\t\t\t\t\t\t'template'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\"\n\t\t\t\t\t/>\n\t\t\t\t\t<openwb-base-text-input\n\t\t\t\t\t\ttitle=\"Ladepunkt-Typ\"\n\t\t\t\t\t\treadonly\n\t\t\t\t\t\t:model-value=\"\n\t\t\t\t\t\t\t$store.state.mqtt[installedChargePointKey].type\n\t\t\t\t\t\t\"\n\t\t\t\t\t/>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<openwb-base-text-input\n\t\t\t\t\t\ttitle=\"Verbindungsmodul\"\n\t\t\t\t\t\tsubtype=\"text\"\n\t\t\t\t\t\t:model-value=\"\n\t\t\t\t\t\t\tinstalledChargePoint.connection_module.type\n\t\t\t\t\t\t\"\n\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\tupdateState(\n\t\t\t\t\t\t\t\tinstalledChargePointKey,\n\t\t\t\t\t\t\t\t$event,\n\t\t\t\t\t\t\t\t'connection_module.type'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\"\n\t\t\t\t\t\tdisabled\n\t\t\t\t\t/>\n\t\t\t\t\t<openwb-base-text-input\n\t\t\t\t\t\ttitle=\"Verbindung\"\n\t\t\t\t\t\tsubtype=\"json\"\n\t\t\t\t\t\t:model-value=\"\n\t\t\t\t\t\t\tinstalledChargePoint.connection_module.configuration\n\t\t\t\t\t\t\"\n\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\tupdateState(\n\t\t\t\t\t\t\t\tinstalledChargePointKey,\n\t\t\t\t\t\t\t\t$event,\n\t\t\t\t\t\t\t\t'connection_module.configuration'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\"\n\t\t\t\t\t/>\n\t\t\t\t\t<openwb-base-text-input\n\t\t\t\t\t\ttitle=\"Leistungsmodul\"\n\t\t\t\t\t\tsubtype=\"text\"\n\t\t\t\t\t\t:model-value=\"installedChargePoint.power_module.type\"\n\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\tupdateState(\n\t\t\t\t\t\t\t\tinstalledChargePointKey,\n\t\t\t\t\t\t\t\t$event,\n\t\t\t\t\t\t\t\t'power_module.type'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\"\n\t\t\t\t\t\tdisabled\n\t\t\t\t\t/>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<openwb-base-heading>Hardware-Optionen</openwb-base-heading>\n\t\t\t\t\t<openwb-base-button-group-input\n\t\t\t\t\t\ttitle=\"1/3-Phasenumschaltung vorhanden\"\n\t\t\t\t\t\t:buttons=\"[\n\t\t\t\t\t\t\t{ buttonValue: false, text: 'Nein' },\n\t\t\t\t\t\t\t{ buttonValue: true, text: 'Ja' },\n\t\t\t\t\t\t]\"\n\t\t\t\t\t\t:model-value=\"installedChargePoint.auto_phase_switch_hw\"\n\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\tupdateState(\n\t\t\t\t\t\t\t\tinstalledChargePointKey,\n\t\t\t\t\t\t\t\t$event,\n\t\t\t\t\t\t\t\t'auto_phase_switch_hw'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\"\n\t\t\t\t\t/>\n\t\t\t\t\t<openwb-base-button-group-input\n\t\t\t\t\t\ttitle=\"Control-Pilot-Unterbrechung vorhanden\"\n\t\t\t\t\t\t:buttons=\"[\n\t\t\t\t\t\t\t{ buttonValue: false, text: 'Nein' },\n\t\t\t\t\t\t\t{ buttonValue: true, text: 'Ja' },\n\t\t\t\t\t\t]\"\n\t\t\t\t\t\t:model-value=\"\n\t\t\t\t\t\t\tinstalledChargePoint.control_pilot_interruption_hw\n\t\t\t\t\t\t\"\n\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\tupdateState(\n\t\t\t\t\t\t\t\tinstalledChargePointKey,\n\t\t\t\t\t\t\t\t$event,\n\t\t\t\t\t\t\t\t'control_pilot_interruption_hw'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\"\n\t\t\t\t\t/>\n\t\t\t\t\t<openwb-base-heading>\n\t\t\t\t\t\tElektrischer Anschluss\n\t\t\t\t\t</openwb-base-heading>\n\t\t\t\t\t<openwb-base-button-group-input\n\t\t\t\t\t\ttitle=\"Anzahl angeschlossener Phasen\"\n\t\t\t\t\t\t:buttons=\"[\n\t\t\t\t\t\t\t{ buttonValue: 1, text: '1' },\n\t\t\t\t\t\t\t{ buttonValue: 2, text: '2' },\n\t\t\t\t\t\t\t{ buttonValue: 3, text: '3' },\n\t\t\t\t\t\t]\"\n\t\t\t\t\t\t:model-value=\"installedChargePoint.connected_phases\"\n\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\tupdateState(\n\t\t\t\t\t\t\t\tinstalledChargePointKey,\n\t\t\t\t\t\t\t\t$event,\n\t\t\t\t\t\t\t\t'connected_phases'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\"\n\t\t\t\t\t/>\n\t\t\t\t\t<openwb-base-button-group-input\n\t\t\t\t\t\ttitle=\"Phase 1\"\n\t\t\t\t\t\t:buttons=\"[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tbuttonValue: 0,\n\t\t\t\t\t\t\t\ttext: 'unbekannt',\n\t\t\t\t\t\t\t\tclass: 'btn-outline-danger',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tbuttonValue: 1,\n\t\t\t\t\t\t\t\ttext: 'EVU L1',\n\t\t\t\t\t\t\t\tclass: 'btn-outline-success',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tbuttonValue: 2,\n\t\t\t\t\t\t\t\ttext: 'EVU L2',\n\t\t\t\t\t\t\t\tclass: 'btn-outline-success',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tbuttonValue: 3,\n\t\t\t\t\t\t\t\ttext: 'EVU L3',\n\t\t\t\t\t\t\t\tclass: 'btn-outline-success',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]\"\n\t\t\t\t\t\t:model-value=\"installedChargePoint.phase_1\"\n\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\tupdateState(\n\t\t\t\t\t\t\t\tinstalledChargePointKey,\n\t\t\t\t\t\t\t\t$event,\n\t\t\t\t\t\t\t\t'phase_1'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<template #help>\n\t\t\t\t\t\t\tHier ist anzugeben, an welcher Phase am\n\t\t\t\t\t\t\tHausanschluss die Phase 1 dieses Ladepunktes\n\t\t\t\t\t\t\tangeschlossen ist. Diese Information wird für das\n\t\t\t\t\t\t\tLastmanagement benötigt, um bei einer Schieflast\n\t\t\t\t\t\t\tgezielt einzelne Ladepunkte zu drosseln.<br />\n\t\t\t\t\t\t\tBei mehreren Ladepunkten macht es Sinn, die Phasen\n\t\t\t\t\t\t\trotierend anzuschließen, damit mehrere nicht\n\t\t\t\t\t\t\tdreiphasig ladende Fahrzeuge mit optimaler Leistung\n\t\t\t\t\t\t\tladen können, bevor das Lastmanagement eingreift.\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</openwb-base-button-group-input>\n\t\t\t\t</openwb-base-card>\n\t\t\t</openwb-base-card>\n\t\t\t<!-- charge point template card -->\n\t\t\t<openwb-base-card\n\t\t\t\ttitle=\"Ladepunkt-Vorlagen\"\n\t\t\t\t:collapsible=\"true\"\n\t\t\t\t:collapsed=\"true\"\n\t\t\t>\n\t\t\t\t<template #actions>\n\t\t\t\t\t<openwb-base-avatar\n\t\t\t\t\t\tclass=\"bg-success clickable\"\n\t\t\t\t\t\tv-if=\"\n\t\t\t\t\t\t\t$store.state.mqtt['openWB/general/extern'] === false\n\t\t\t\t\t\t\"\n\t\t\t\t\t\t@click=\"addChargePointTemplate\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<font-awesome-icon\n\t\t\t\t\t\t\tfixed-width\n\t\t\t\t\t\t\t:icon=\"['fas', 'plus']\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</openwb-base-avatar>\n\t\t\t\t</template>\n\t\t\t\t<openwb-base-card\n\t\t\t\t\tv-for=\"(\n\t\t\t\t\t\tchargePointTemplate, chargePointTemplateKey\n\t\t\t\t\t) in chargePointTemplates\"\n\t\t\t\t\t:key=\"chargePointTemplateKey\"\n\t\t\t\t\t:title=\"\n\t\t\t\t\t\tchargePointTemplate.name +\n\t\t\t\t\t\t' (ID: ' +\n\t\t\t\t\t\tgetChargePointTemplateIndex(chargePointTemplateKey) +\n\t\t\t\t\t\t')'\n\t\t\t\t\t\"\n\t\t\t\t\t:collapsible=\"true\"\n\t\t\t\t\t:collapsed=\"true\"\n\t\t\t\t\tsubtype=\"primary\"\n\t\t\t\t>\n\t\t\t\t\t<template\n\t\t\t\t\t\t#actions\n\t\t\t\t\t\tv-if=\"!chargePointTemplateKey.endsWith('/0')\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<openwb-base-avatar\n\t\t\t\t\t\t\tclass=\"bg-danger clickable\"\n\t\t\t\t\t\t\t@click=\"\n\t\t\t\t\t\t\t\tremoveChargePointTemplateModal(\n\t\t\t\t\t\t\t\t\tchargePointTemplateKey,\n\t\t\t\t\t\t\t\t\t$event\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<font-awesome-icon\n\t\t\t\t\t\t\t\tfixed-width\n\t\t\t\t\t\t\t\t:icon=\"['fas', 'trash']\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</openwb-base-avatar>\n\t\t\t\t\t</template>\n\t\t\t\t\t<openwb-base-text-input\n\t\t\t\t\t\ttitle=\"Bezeichnung\"\n\t\t\t\t\t\tsubtype=\"text\"\n\t\t\t\t\t\t:model-value=\"chargePointTemplate.name\"\n\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\tupdateState(chargePointTemplateKey, $event, 'name')\n\t\t\t\t\t\t\"\n\t\t\t\t\t\t:disabled=\"chargePointTemplateKey.endsWith('/0')\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t#help\n\t\t\t\t\t\t\tv-if=\"chargePointTemplateKey.endsWith('/0')\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDie Standard-Vorlage kann nicht umbenannt werden.\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</openwb-base-text-input>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<openwb-base-heading>RFID</openwb-base-heading>\n\t\t\t\t\t<openwb-base-button-group-input\n\t\t\t\t\t\ttitle=\"Freigabe mit RFID\"\n\t\t\t\t\t\t:buttons=\"[\n\t\t\t\t\t\t\t{ buttonValue: false, text: 'Nein' },\n\t\t\t\t\t\t\t{ buttonValue: true, text: 'Ja' },\n\t\t\t\t\t\t]\"\n\t\t\t\t\t\t:model-value=\"chargePointTemplate.rfid_enabling\"\n\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\tupdateState(\n\t\t\t\t\t\t\t\tchargePointTemplateKey,\n\t\t\t\t\t\t\t\t$event,\n\t\t\t\t\t\t\t\t'rfid_enabling'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\"\n\t\t\t\t\t/>\n\t\t\t\t\t<openwb-base-array-input\n\t\t\t\t\t\ttitle=\"Zugeordnete Tags\"\n\t\t\t\t\t\tnoElementsMessage=\"Keine Tags zugeordnet.\"\n\t\t\t\t\t\t:model-value=\"chargePointTemplate.valid_tags\"\n\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\tupdateState(\n\t\t\t\t\t\t\t\tchargePointTemplateKey,\n\t\t\t\t\t\t\t\t$event,\n\t\t\t\t\t\t\t\t'valid_tags'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\"\n\t\t\t\t\t/>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<openwb-base-heading>Autolock</openwb-base-heading>\n\t\t\t\t\t<openwb-base-button-group-input\n\t\t\t\t\t\ttitle=\"Autolock aktiv\"\n\t\t\t\t\t\t:buttons=\"[\n\t\t\t\t\t\t\t{ buttonValue: false, text: 'Nein' },\n\t\t\t\t\t\t\t{ buttonValue: true, text: 'Ja' },\n\t\t\t\t\t\t]\"\n\t\t\t\t\t\t:model-value=\"chargePointTemplate.autolock.active\"\n\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\tupdateState(\n\t\t\t\t\t\t\t\tchargePointTemplateKey,\n\t\t\t\t\t\t\t\t$event,\n\t\t\t\t\t\t\t\t'autolock.active'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\"\n\t\t\t\t\t/>\n\t\t\t\t\t<openwb-base-button-group-input\n\t\t\t\t\t\ttitle=\"Erst nach Ladeende sperren\"\n\t\t\t\t\t\t:buttons=\"[\n\t\t\t\t\t\t\t{ buttonValue: false, text: 'Nein' },\n\t\t\t\t\t\t\t{ buttonValue: true, text: 'Ja' },\n\t\t\t\t\t\t]\"\n\t\t\t\t\t\t:model-value=\"\n\t\t\t\t\t\t\tchargePointTemplate.autolock.wait_for_charging_end\n\t\t\t\t\t\t\"\n\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\tupdateState(\n\t\t\t\t\t\t\t\tchargePointTemplateKey,\n\t\t\t\t\t\t\t\t$event,\n\t\t\t\t\t\t\t\t'autolock.wait_for_charging_end'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\"\n\t\t\t\t\t/>\n\t\t\t\t\t<openwb-base-heading>\n\t\t\t\t\t\tAutolock Zeitpläne\n\t\t\t\t\t\t<template #actions>\n\t\t\t\t\t\t\t<openwb-base-avatar\n\t\t\t\t\t\t\t\tclass=\"bg-success clickable\"\n\t\t\t\t\t\t\t\t@click=\"\n\t\t\t\t\t\t\t\t\taddChargePointTemplateAutolockPlan(\n\t\t\t\t\t\t\t\t\t\tchargePointTemplateKey,\n\t\t\t\t\t\t\t\t\t\t$event\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<font-awesome-icon\n\t\t\t\t\t\t\t\t\tfixed-width\n\t\t\t\t\t\t\t\t\t:icon=\"['fas', 'plus']\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</openwb-base-avatar>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</openwb-base-heading>\n\t\t\t\t\t<openwb-base-card\n\t\t\t\t\t\tv-for=\"(\n\t\t\t\t\t\t\tautolockPlan, autolockPlanKey\n\t\t\t\t\t\t) in getChargePointTemplateAutolockPlans(\n\t\t\t\t\t\t\tchargePointTemplateKey\n\t\t\t\t\t\t)\"\n\t\t\t\t\t\t:key=\"autolockPlanKey\"\n\t\t\t\t\t\t:title=\"autolockPlan.name\"\n\t\t\t\t\t\t:collapsible=\"true\"\n\t\t\t\t\t\t:collapsed=\"true\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<template #actions=\"slotProps\">\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tv-if=\"slotProps.collapsed == true\"\n\t\t\t\t\t\t\t\tclass=\"subheader pill\"\n\t\t\t\t\t\t\t\t:class=\"\n\t\t\t\t\t\t\t\t\tautolockPlan.active\n\t\t\t\t\t\t\t\t\t\t? 'bg-success'\n\t\t\t\t\t\t\t\t\t\t: 'bg-danger'\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<font-awesome-icon\n\t\t\t\t\t\t\t\t\tfixed-width\n\t\t\t\t\t\t\t\t\t:icon=\"['fas', 'clock']\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{{ autolockPlan.time[0] }} -\n\t\t\t\t\t\t\t\t{{ autolockPlan.time[1] }}\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tv-if=\"\n\t\t\t\t\t\t\t\t\t\tautolockPlan.frequency.selected ==\n\t\t\t\t\t\t\t\t\t\t'once'\n\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<font-awesome-icon\n\t\t\t\t\t\t\t\t\t\tfixed-width\n\t\t\t\t\t\t\t\t\t\t:icon=\"['fas', 'calendar-day']\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\t\tformatDate(\n\t\t\t\t\t\t\t\t\t\t\tautolockPlan.frequency.once[0]\n\t\t\t\t\t\t\t\t\t\t) ==\n\t\t\t\t\t\t\t\t\t\tformatDate(\n\t\t\t\t\t\t\t\t\t\t\tautolockPlan.frequency.once[1]\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t? formatDate(\n\t\t\t\t\t\t\t\t\t\t\t\t\tautolockPlan.frequency\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.once[0]\n\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t: formatDate(\n\t\t\t\t\t\t\t\t\t\t\t\t\tautolockPlan.frequency\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.once[0]\n\t\t\t\t\t\t\t\t\t\t\t  ) +\n\t\t\t\t\t\t\t\t\t\t\t  \"-\" +\n\t\t\t\t\t\t\t\t\t\t\t  formatDate(\n\t\t\t\t\t\t\t\t\t\t\t\t\tautolockPlan.frequency\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.once[1]\n\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tv-if=\"\n\t\t\t\t\t\t\t\t\t\tautolockPlan.frequency.selected ==\n\t\t\t\t\t\t\t\t\t\t'daily'\n\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<font-awesome-icon\n\t\t\t\t\t\t\t\t\t\tfixed-width\n\t\t\t\t\t\t\t\t\t\t:icon=\"['fas', 'calendar-week']\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tv-if=\"\n\t\t\t\t\t\t\t\t\t\tautolockPlan.frequency.selected ==\n\t\t\t\t\t\t\t\t\t\t'weekly'\n\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<font-awesome-icon\n\t\t\t\t\t\t\t\t\t\tfixed-width\n\t\t\t\t\t\t\t\t\t\t:icon=\"['fas', 'calendar-alt']\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<openwb-base-avatar\n\t\t\t\t\t\t\t\tv-if=\"slotProps.collapsed == false\"\n\t\t\t\t\t\t\t\tclass=\"bg-danger clickable\"\n\t\t\t\t\t\t\t\t@click=\"\n\t\t\t\t\t\t\t\t\tremoveChargePointTemplateAutolockPlanModal(\n\t\t\t\t\t\t\t\t\t\tchargePointTemplateKey,\n\t\t\t\t\t\t\t\t\t\tautolockPlanKey,\n\t\t\t\t\t\t\t\t\t\t$event\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<font-awesome-icon\n\t\t\t\t\t\t\t\t\tfixed-width\n\t\t\t\t\t\t\t\t\t:icon=\"['fas', 'trash']\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</openwb-base-avatar>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<openwb-base-text-input\n\t\t\t\t\t\t\ttitle=\"Bezeichnung\"\n\t\t\t\t\t\t\t:model-value=\"autolockPlan.name\"\n\t\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\t\tupdateState(autolockPlanKey, $event, 'name')\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</openwb-base-text-input>\n\t\t\t\t\t\t<openwb-base-button-group-input\n\t\t\t\t\t\t\ttitle=\"Zeitplan aktiv\"\n\t\t\t\t\t\t\t:buttons=\"[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tbuttonValue: false,\n\t\t\t\t\t\t\t\t\ttext: 'Nein',\n\t\t\t\t\t\t\t\t\tclass: 'btn-outline-danger',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tbuttonValue: true,\n\t\t\t\t\t\t\t\t\ttext: 'Ja',\n\t\t\t\t\t\t\t\t\tclass: 'btn-outline-success',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]\"\n\t\t\t\t\t\t\t:model-value=\"autolockPlan.active\"\n\t\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\t\tupdateState(autolockPlanKey, $event, 'active')\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</openwb-base-button-group-input>\n\t\t\t\t\t\t<openwb-base-text-input\n\t\t\t\t\t\t\ttitle=\"Sperren um\"\n\t\t\t\t\t\t\tsubtype=\"time\"\n\t\t\t\t\t\t\t:model-value=\"autolockPlan.time[0]\"\n\t\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\t\tupdateState(autolockPlanKey, $event, 'time.0')\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</openwb-base-text-input>\n\t\t\t\t\t\t<openwb-base-text-input\n\t\t\t\t\t\t\ttitle=\"Freigeben um\"\n\t\t\t\t\t\t\tsubtype=\"time\"\n\t\t\t\t\t\t\t:model-value=\"autolockPlan.time[1]\"\n\t\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\t\tupdateState(autolockPlanKey, $event, 'time.1')\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</openwb-base-text-input>\n\t\t\t\t\t\t<openwb-base-button-group-input\n\t\t\t\t\t\t\ttitle=\"Wiederholungen\"\n\t\t\t\t\t\t\t:buttons=\"[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tbuttonValue: 'once',\n\t\t\t\t\t\t\t\t\ttext: 'Einmalig',\n\t\t\t\t\t\t\t\t\tclass: 'btn-outline-info',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tbuttonValue: 'daily',\n\t\t\t\t\t\t\t\t\ttext: 'Täglich',\n\t\t\t\t\t\t\t\t\tclass: 'btn-outline-info',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tbuttonValue: 'weekly',\n\t\t\t\t\t\t\t\t\ttext: 'Wöchentlich',\n\t\t\t\t\t\t\t\t\tclass: 'btn-outline-info',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]\"\n\t\t\t\t\t\t\t:model-value=\"autolockPlan.frequency.selected\"\n\t\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\t\tupdateState(\n\t\t\t\t\t\t\t\t\tautolockPlanKey,\n\t\t\t\t\t\t\t\t\t$event,\n\t\t\t\t\t\t\t\t\t'frequency.selected'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</openwb-base-button-group-input>\n\t\t\t\t\t\t<openwb-base-text-input\n\t\t\t\t\t\t\tv-if=\"autolockPlan.frequency.selected == 'once'\"\n\t\t\t\t\t\t\ttitle=\"Sperren ab ...\"\n\t\t\t\t\t\t\tsubtype=\"date\"\n\t\t\t\t\t\t\t:model-value=\"autolockPlan.frequency.once[0]\"\n\t\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\t\tupdateState(\n\t\t\t\t\t\t\t\t\tautolockPlanKey,\n\t\t\t\t\t\t\t\t\t$event,\n\t\t\t\t\t\t\t\t\t'frequency.once.0'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<openwb-base-text-input\n\t\t\t\t\t\t\tv-if=\"autolockPlan.frequency.selected == 'once'\"\n\t\t\t\t\t\t\ttitle=\"... bis\"\n\t\t\t\t\t\t\tsubtype=\"date\"\n\t\t\t\t\t\t\t:min=\"autolockPlan.frequency.once[0]\"\n\t\t\t\t\t\t\t:model-value=\"autolockPlan.frequency.once[1]\"\n\t\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\t\tupdateState(\n\t\t\t\t\t\t\t\t\tautolockPlanKey,\n\t\t\t\t\t\t\t\t\t$event,\n\t\t\t\t\t\t\t\t\t'frequency.once.1'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div v-if=\"autolockPlan.frequency.selected == 'weekly'\">\n\t\t\t\t\t\t\t<openwb-base-button-group-input\n\t\t\t\t\t\t\t\tv-for=\"(day, dayIndex) in weekdays\"\n\t\t\t\t\t\t\t\t:key=\"dayIndex\"\n\t\t\t\t\t\t\t\t:title=\"day\"\n\t\t\t\t\t\t\t\t:buttons=\"[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tbuttonValue: false,\n\t\t\t\t\t\t\t\t\t\ttext: 'Aus',\n\t\t\t\t\t\t\t\t\t\tclass: 'btn-outline-danger',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tbuttonValue: true,\n\t\t\t\t\t\t\t\t\t\ttext: 'An',\n\t\t\t\t\t\t\t\t\t\tclass: 'btn-outline-success',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]\"\n\t\t\t\t\t\t\t\t:model-value=\"\n\t\t\t\t\t\t\t\t\tautolockPlan.frequency.weekly[dayIndex]\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t@update:model-value=\"\n\t\t\t\t\t\t\t\t\tupdateState(\n\t\t\t\t\t\t\t\t\t\tautolockPlanKey,\n\t\t\t\t\t\t\t\t\t\t$event,\n\t\t\t\t\t\t\t\t\t\t'frequency.weekly.' + dayIndex\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</openwb-base-button-group-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</openwb-base-card>\n\t\t\t\t</openwb-base-card>\n\t\t\t</openwb-base-card>\n\n\t\t\t<openwb-base-submit-buttons\n\t\t\t\tformName=\"chargePointInstallationForm\"\n\t\t\t\t@save=\"$emit('save')\"\n\t\t\t\t@reset=\"$emit('reset')\"\n\t\t\t\t@defaults=\"$emit('defaults')\"\n\t\t\t/>\n\t\t</form>\n\t</div>\n</template>\n\n<script>\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n\tfaPlus as fasPlus,\n\tfaTrash as fasTrash,\n\tfaCalendarDay as fasCalendarDay,\n\tfaCalendarAlt as fasCalendarAlt,\n\tfaCalendarWeek as fasCalendarWeek,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\n\nlibrary.add(fasPlus, fasTrash, fasCalendarDay, fasCalendarAlt, fasCalendarWeek);\n\nimport ComponentStateMixin from \"@/components/mixins/ComponentState.vue\";\n\nexport default {\n\tname: \"OpenwbChargePointInstallation\",\n\tmixins: [ComponentStateMixin],\n\temits: [\"sendCommand\"],\n\tcomponents: {\n\t\tFontAwesomeIcon,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmqttTopicsToSubscribe: [\n\t\t\t\t\"openWB/general/extern\",\n\t\t\t\t\"openWB/chargepoint/+/config\",\n\t\t\t\t\"openWB/chargepoint/template/+\",\n\t\t\t\t\"openWB/chargepoint/template/+/autolock/+\",\n\t\t\t\t\"openWB/system/configurable/chargepoints\",\n\t\t\t],\n\t\t\tchargePointToAdd: undefined,\n\t\t\tshowChargePointModal: false,\n\t\t\tmodalChargePointIndex: undefined,\n\t\t\tshowChargePointTemplateModal: false,\n\t\t\tmodalChargePointTemplateIndex: undefined,\n\t\t\tshowChargePointTemplateAutolockPlanModal: false,\n\t\t\tmodalChargePointTemplateAutolockPlanIndex: undefined,\n\t\t};\n\t},\n\tcomputed: {\n\t\tinstalledChargePoints: {\n\t\t\tget() {\n\t\t\t\treturn this.getWildcardTopics(\"openWB/chargepoint/+/config\");\n\t\t\t},\n\t\t},\n\t\tchargePointTemplates: {\n\t\t\tget() {\n\t\t\t\treturn this.getWildcardTopics(\"openWB/chargepoint/template/+\");\n\t\t\t},\n\t\t},\n\t\tchargePointTemplateList: {\n\t\t\tget() {\n\t\t\t\tlet myList = [];\n\t\t\t\tObject.keys(this.chargePointTemplates).forEach((key) => {\n\t\t\t\t\t// console.log(key);\n\t\t\t\t\tlet index = parseInt(key.match(/([0-9]+)/g)[0]);\n\t\t\t\t\tlet name =\n\t\t\t\t\t\tthis.$store.state.mqtt[\n\t\t\t\t\t\t\t\"openWB/chargepoint/template/\" + index\n\t\t\t\t\t\t].name;\n\t\t\t\t\t// console.log(\"index: \" + index, \"name: \" + name);\n\t\t\t\t\tmyList.push({ value: index, text: name });\n\t\t\t\t});\n\t\t\t\treturn myList;\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\taddChargePoint(event) {\n\t\t\t// prevent further processing of the click event\n\t\t\tevent.stopPropagation();\n\t\t\tthis.$emit(\"sendCommand\", {\n\t\t\t\tcommand: \"addChargepoint\",\n\t\t\t\tdata: { type: this.chargePointToAdd },\n\t\t\t});\n\t\t},\n\t\tremoveChargePointModal(chargePoint, event) {\n\t\t\t// prevent further processing of the click event\n\t\t\tevent.stopPropagation();\n\t\t\tthis.modalChargePointIndex = parseInt(\n\t\t\t\tchargePoint.match(/(?:\\/)(\\d+)(?=\\/)/)[1]\n\t\t\t);\n\t\t\tthis.showChargePointModal = true;\n\t\t},\n\t\tremoveChargePoint(chargePointIndex, event) {\n\t\t\tthis.showChargePointModal = false;\n\t\t\tif (event == \"confirm\") {\n\t\t\t\tconsole.info(\n\t\t\t\t\t\"request removal of charge point '\" + chargePointIndex + \"'\"\n\t\t\t\t);\n\t\t\t\tthis.$emit(\"sendCommand\", {\n\t\t\t\t\tcommand: \"removeChargepoint\",\n\t\t\t\t\tdata: { id: chargePointIndex },\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tgetChargePointList() {\n\t\t\treturn this.$store.state.mqtt[\n\t\t\t\t\"openWB/system/configurable/chargepoints\"\n\t\t\t];\n\t\t},\n\t\tgetChargePointName(chargePointIndex) {\n\t\t\treturn this.$store.state.mqtt[\n\t\t\t\t\"openWB/chargepoint/\" + chargePointIndex + \"/config\"\n\t\t\t]\n\t\t\t\t? this.$store.state.mqtt[\n\t\t\t\t\t\t\"openWB/chargepoint/\" + chargePointIndex + \"/config\"\n\t\t\t\t  ].name\n\t\t\t\t: \"Ladepunkt \" + chargePointIndex;\n\t\t},\n\t\tgetChargePointTemplateName(chargePointTemplateIndex) {\n\t\t\treturn this.$store.state.mqtt[\n\t\t\t\t\"openWB/chargepoint/template/\" + chargePointTemplateIndex\n\t\t\t]\n\t\t\t\t? this.$store.state.mqtt[\n\t\t\t\t\t\t\"openWB/chargepoint/template/\" +\n\t\t\t\t\t\t\tchargePointTemplateIndex\n\t\t\t\t  ].name\n\t\t\t\t: \"Vorlage \" + chargePointTemplateIndex;\n\t\t},\n\t\taddChargePointTemplate(event) {\n\t\t\t// prevent further processing of the click event\n\t\t\tevent.stopPropagation();\n\t\t\tthis.$emit(\"sendCommand\", {\n\t\t\t\tcommand: \"addChargepointTemplate\",\n\t\t\t\tdata: {},\n\t\t\t});\n\t\t},\n\t\tgetChargePointTemplateIndex(chargePointTemplate) {\n\t\t\t// get trailing characters as index\n\t\t\treturn parseInt(chargePointTemplate.match(/([^/]+)$/)[0]);\n\t\t},\n\t\tremoveChargePointTemplateModal(chargePointTemplate, event) {\n\t\t\t// prevent further processing of the click event\n\t\t\tevent.stopPropagation();\n\t\t\tthis.modalChargePointTemplateIndex =\n\t\t\t\tthis.getChargePointTemplateIndex(chargePointTemplate);\n\t\t\tthis.showChargePointTemplateModal = true;\n\t\t},\n\t\tremoveChargePointTemplate(chargePointTemplateIndex, event) {\n\t\t\tthis.showChargePointTemplateModal = false;\n\t\t\tif (event == \"confirm\") {\n\t\t\t\tconsole.info(\n\t\t\t\t\t\"request removal of chargePoint template '\" +\n\t\t\t\t\t\tchargePointTemplateIndex +\n\t\t\t\t\t\t\"'\"\n\t\t\t\t);\n\t\t\t\tthis.$emit(\"sendCommand\", {\n\t\t\t\t\tcommand: \"removeChargepointTemplate\",\n\t\t\t\t\tdata: { id: chargePointTemplateIndex },\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\taddChargePointTemplateAutolockPlan(chargePointTemplate, event) {\n\t\t\t// prevent further processing of the click event\n\t\t\tevent.stopPropagation();\n\t\t\tconsole.info(\n\t\t\t\t\"requesting new charge point template autolock plan...\"\n\t\t\t);\n\t\t\tlet chargePointTemplateIndex =\n\t\t\t\tthis.getChargePointTemplateIndex(chargePointTemplate);\n\t\t\tthis.$emit(\"sendCommand\", {\n\t\t\t\tcommand: \"addAutolockPlan\",\n\t\t\t\tdata: { template: chargePointTemplateIndex },\n\t\t\t});\n\t\t},\n\t\tremoveChargePointTemplateAutolockPlanModal(\n\t\t\tchargePointTemplate,\n\t\t\tautolockPlan,\n\t\t\tevent\n\t\t) {\n\t\t\t// prevent further processing of the click event\n\t\t\tevent.stopPropagation();\n\t\t\tthis.modalChargePointTemplateIndex =\n\t\t\t\tthis.getChargePointTemplateIndex(chargePointTemplate);\n\t\t\tthis.modalChargePointTemplateAutolockPlanIndex = parseInt(\n\t\t\t\tautolockPlan.match(/([^/]+)$/)[0]\n\t\t\t);\n\t\t\tthis.showChargePointTemplateAutolockPlanModal = true;\n\t\t},\n\t\tremoveChargePointTemplateAutolockPlan(\n\t\t\tchargePointTemplateIndex,\n\t\t\tautolockPlanIndex,\n\t\t\tevent\n\t\t) {\n\t\t\tthis.showChargePointTemplateAutolockPlanModal = false;\n\t\t\tif (event == \"confirm\") {\n\t\t\t\tconsole.info(\n\t\t\t\t\t\"request removal of chargePoint template '\" +\n\t\t\t\t\t\tchargePointTemplateIndex +\n\t\t\t\t\t\t\"' autolock plan '\" +\n\t\t\t\t\t\tautolockPlanIndex +\n\t\t\t\t\t\t\"'\"\n\t\t\t\t);\n\t\t\t\tthis.$emit(\"sendCommand\", {\n\t\t\t\t\tcommand: \"removeAutolockPlan\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\ttemplate: chargePointTemplateIndex,\n\t\t\t\t\t\tplan: autolockPlanIndex,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tgetChargePointTemplateAutolockPlanName(templateIndex, planIndex) {\n\t\t\treturn this.$store.state.mqtt[\n\t\t\t\t\"openWB/chargepoint/template/\" +\n\t\t\t\t\ttemplateIndex +\n\t\t\t\t\t\"/autolock/\" +\n\t\t\t\t\tplanIndex\n\t\t\t]\n\t\t\t\t? this.$store.state.mqtt[\n\t\t\t\t\t\t\"openWB/chargepoint/template/\" +\n\t\t\t\t\t\t\ttemplateIndex +\n\t\t\t\t\t\t\t\"/autolock/\" +\n\t\t\t\t\t\t\tplanIndex\n\t\t\t\t  ].name\n\t\t\t\t: \"Autolock Zeitplan \" + templateIndex + \"/\" + planIndex;\n\t\t},\n\t\tgetChargePointTemplateAutolockPlans(chargePointTemplate) {\n\t\t\tlet chargePointTemplateIndex =\n\t\t\t\tthis.getChargePointTemplateIndex(chargePointTemplate);\n\t\t\tlet result = this.getWildcardTopics(\n\t\t\t\t\"openWB/chargepoint/template/\" +\n\t\t\t\t\tchargePointTemplateIndex +\n\t\t\t\t\t\"/autolock/+\"\n\t\t\t);\n\t\t\treturn result;\n\t\t},\n\t},\n};\n</script>\n\n<style scoped>\n.clickable {\n\tcursor: pointer;\n}\n</style>\n"],"names":[],"sourceRoot":""}