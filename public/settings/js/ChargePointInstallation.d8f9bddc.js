(self["webpackChunkopenwb_ui_settings"]=self["webpackChunkopenwb_ui_settings"]||[]).push([[261],{2016:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var n=a(6252),o=a(3577);const l=e=>((0,n.dD)("data-v-5a057060"),e=e(),(0,n.Cn)(),e),i={class:"chargePointInstallation"},d={name:"chargePointInstallationForm"},u={class:"col-1"},r=l((()=>(0,n._)("hr",null,null,-1))),s=l((()=>(0,n._)("hr",null,null,-1))),m=l((()=>(0,n._)("br",null,null,-1))),c=l((()=>(0,n._)("br",null,null,-1))),p=l((()=>(0,n._)("br",null,null,-1))),g=l((()=>(0,n._)("br",null,null,-1))),h=l((()=>(0,n._)("hr",null,null,-1))),b={key:0},f=l((()=>(0,n._)("hr",null,null,-1))),w={key:0},k={key:1},P={key:2},v={key:2};function C(e,t,a,l,C,y){const V=(0,n.up)("openwb-base-modal-dialog"),W=(0,n.up)("font-awesome-icon"),_=(0,n.up)("openwb-base-click-button"),T=(0,n.up)("openwb-base-select-input"),x=(0,n.up)("openwb-base-avatar"),U=(0,n.up)("openwb-base-text-input"),q=(0,n.up)("openwb-charge-point-proxy"),I=(0,n.up)("openwb-base-heading"),L=(0,n.up)("openwb-base-button-group-input"),S=(0,n.up)("openwb-base-card"),A=(0,n.up)("openwb-base-array-input"),D=(0,n.up)("openwb-base-submit-buttons");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(V,{show:C.showChargePointModal,title:"Ladepunkt löschen",subtype:"danger",buttons:[{text:"Löschen",event:"confirm",subtype:"danger"}],onModalResult:t[0]||(t[0]=e=>y.removeChargePoint(C.modalChargePointIndex,e))},{default:(0,n.w5)((()=>[(0,n.Uk)(' Wollen Sie den Ladepunkt "'+(0,o.zw)(y.getChargePointName(C.modalChargePointIndex))+'" (ID: '+(0,o.zw)(C.modalChargePointIndex)+") wirklich entfernen? Dieser Vorgang kann nicht rückgängig gemacht werden! ",1)])),_:1},8,["show"]),(0,n.Wm)(V,{show:C.showChargePointTemplateModal,title:"Ladepunkt-Vorlage löschen",subtype:"danger",buttons:[{text:"Löschen",event:"confirm",subtype:"danger"}],onModalResult:t[1]||(t[1]=e=>y.removeChargePointTemplate(C.modalChargePointTemplateIndex,e))},{default:(0,n.w5)((()=>[(0,n.Uk)(' Wollen Sie die Ladepunkt-Vorlage "'+(0,o.zw)(y.getChargePointTemplateName(C.modalChargePointTemplateIndex))+'" (ID: '+(0,o.zw)(C.modalChargePointTemplateIndex)+") wirklich entfernen? Dieser Vorgang kann nicht rückgängig gemacht werden! ",1)])),_:1},8,["show"]),(0,n.Wm)(V,{show:C.showChargePointTemplateAutolockPlanModal,title:"Autolock Zeitplan löschen",subtype:"danger",buttons:[{text:"Löschen",event:"confirm",subtype:"danger"}],onModalResult:t[2]||(t[2]=e=>y.removeChargePointTemplateAutolockPlan(C.modalChargePointTemplateIndex,C.modalChargePointTemplateAutolockPlanIndex,e))},{default:(0,n.w5)((()=>[(0,n.Uk)(' Wollen Sie den Autolock Zeitplan "'+(0,o.zw)(y.getChargePointTemplateAutolockPlanName(C.modalChargePointTemplateIndex,C.modalChargePointTemplateAutolockPlanIndex))+'" wirklich entfernen? Dieser Vorgang kann nicht rückgängig gemacht werden! ',1)])),_:1},8,["show"]),(0,n._)("div",i,[(0,n._)("form",d,[(0,n.Wm)(S,{title:"Ladepunkte",collapsible:!0,collapsed:!0},{default:(0,n.w5)((()=>[(0,n.Wm)(T,{class:"mb-2",title:"Verfügbare Ladepunkte",notSelected:"Bitte auswählen",options:y.getChargePointList(),"model-value":C.chargePointToAdd,"onUpdate:modelValue":t[3]||(t[3]=e=>C.chargePointToAdd=e)},{append:(0,n.w5)((()=>[(0,n._)("span",u,[(0,n.Wm)(_,{class:(0,o.C_)(void 0===C.chargePointToAdd?"btn-outline-success":"btn-success"),disabled:void 0===C.chargePointToAdd,onClick:y.addChargePoint},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{"fixed-width":"",icon:["fas","plus"]})])),_:1},8,["class","disabled","onClick"])])])),help:(0,n.w5)((()=>[(0,n.Uk)(" Bitte einen Ladepunkt auswählen, der hinzugefügt werden soll. ")])),_:1},8,["options","model-value"]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(y.installedChargePoints,((t,a)=>((0,n.wg)(),(0,n.j4)(S,{key:a,title:t.name+" (ID: "+t.id+")",collapsible:!0,collapsed:!0,subtype:"primary"},{actions:(0,n.w5)((()=>[(0,n.Wm)(x,{class:"bg-danger clickable",onClick:e=>y.removeChargePointModal(a,e)},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{"fixed-width":"",icon:["fas","trash"]})])),_:2},1032,["onClick"])])),default:(0,n.w5)((()=>[(0,n.Wm)(U,{title:"Bezeichnung",subtype:"text","model-value":t.name,"onUpdate:modelValue":t=>e.updateState(a,t,"name")},null,8,["model-value","onUpdate:modelValue"]),(0,n.Wm)(T,{title:"Ladepunkt-Vorlage",options:y.chargePointTemplateList,"model-value":e.$store.state.mqtt[a].template,"onUpdate:modelValue":t=>e.updateState(a,t,"template")},null,8,["options","model-value","onUpdate:modelValue"]),r,(0,n.Wm)(q,{chargePointId:t.id,chargePointType:e.$store.state.mqtt[a].type,configuration:t.connection_module.configuration,"onUpdate:configuration":e=>y.updateConfiguration(a,e)},null,8,["chargePointId","chargePointType","configuration","onUpdate:configuration"]),s,(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Hardware-Optionen")])),_:1}),(0,n.Wm)(L,{title:"automatische Phasenumschaltung vorhanden",buttons:[{buttonValue:!1,text:"Nein"},{buttonValue:!0,text:"Ja"}],"model-value":t.auto_phase_switch_hw,"onUpdate:modelValue":t=>e.updateState(a,t,"auto_phase_switch_hw")},null,8,["model-value","onUpdate:modelValue"]),(0,n.Wm)(L,{title:"Control-Pilot-Unterbrechung vorhanden",buttons:[{buttonValue:!1,text:"Nein"},{buttonValue:!0,text:"Ja"}],"model-value":t.control_pilot_interruption_hw,"onUpdate:modelValue":t=>e.updateState(a,t,"control_pilot_interruption_hw")},null,8,["model-value","onUpdate:modelValue"]),(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Elektrischer Anschluss ")])),_:1}),(0,n.Wm)(L,{title:"Anzahl angeschlossener Phasen",buttons:[{buttonValue:1,text:"1"},{buttonValue:2,text:"2"},{buttonValue:3,text:"3"}],"model-value":t.connected_phases,"onUpdate:modelValue":t=>e.updateState(a,t,"connected_phases")},null,8,["model-value","onUpdate:modelValue"]),(0,n.Wm)(L,{title:"Phase 1",buttons:[{buttonValue:0,text:"unbekannt",class:"btn-outline-danger"},{buttonValue:1,text:"EVU L1",class:"btn-outline-success"},{buttonValue:2,text:"EVU L2",class:"btn-outline-success"},{buttonValue:3,text:"EVU L3",class:"btn-outline-success"}],"model-value":t.phase_1,"onUpdate:modelValue":t=>e.updateState(a,t,"phase_1")},{help:(0,n.w5)((()=>[(0,n.Uk)(" Hier ist anzugeben, an welcher Phase am Hausanschluss die Phase 1 dieses Ladepunktes angeschlossen ist. Diese Information wird für das Lastmanagement benötigt, um bei einer Schieflast gezielt einzelne Ladepunkte zu drosseln."),m,(0,n.Uk)(" Bei mehreren Ladepunkten macht es Sinn, die Phasen rotierend anzuschließen, damit mehrere nicht dreiphasig ladende Fahrzeuge mit optimaler Leistung laden können, bevor das Lastmanagement eingreift."),c,(0,n.Uk)(" Es wird vorausgesetzt, dass das Drehfeld innerhalb der Installation gleich bleibt. Wenn demnach L1 des Ladepunktes auf EVU L2 liegt, muss L2 des Ladepunktes auf EVU L3 aufgelegt sein."),p,(0,n.Uk)(" Eine Möglichkeit, den Anschluss von L1 zu ermitteln, ist eine einphasige Ladung zu starten und die Phasenströme am EVU-Zähler zu beobachten. Mit einem zweiphasig ladenden Fahrzeug kann danach auch der Anschluss von L2 ermittelt und so das Drehfeld kontrolliert werden."),g,(0,n.Uk)(" Im Zweifel bitte das Drehfeld von einer Fachkraft prüfen und korrigieren lassen. ")])),_:2},1032,["model-value","onUpdate:modelValue"])])),_:2},1032,["title"])))),128))])),_:1}),(0,n.Wm)(S,{title:"Ladepunkt-Vorlagen",collapsible:!0,collapsed:!0},{actions:(0,n.w5)((()=>[!1===e.$store.state.mqtt["openWB/general/extern"]?((0,n.wg)(),(0,n.j4)(x,{key:0,class:"bg-success clickable",onClick:y.addChargePointTemplate},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{"fixed-width":"",icon:["fas","plus"]})])),_:1},8,["onClick"])):(0,n.kq)("",!0)])),default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(y.chargePointTemplates,((t,a)=>((0,n.wg)(),(0,n.j4)(S,{key:a,title:t.name+" (ID: "+y.getChargePointTemplateIndex(a)+")",collapsible:!0,collapsed:!0,subtype:"primary"},(0,n.Nv)({default:(0,n.w5)((()=>[(0,n.Wm)(U,{title:"Bezeichnung",subtype:"text","model-value":t.name,"onUpdate:modelValue":t=>e.updateState(a,t,"name"),disabled:a.endsWith("/0")},(0,n.Nv)({_:2},[a.endsWith("/0")?{name:"help",fn:(0,n.w5)((()=>[(0,n.Uk)(" Die Standard-Vorlage kann nicht umbenannt werden. ")])),key:"0"}:void 0]),1032,["model-value","onUpdate:modelValue","disabled"]),h,!0===e.$store.state.mqtt["openWB/optional/rfid/active"]?((0,n.wg)(),(0,n.iD)("div",b,[(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Zugangskontrolle ")])),_:1}),(0,n.Wm)(L,{title:"Freigabe mit RFID",buttons:[{buttonValue:!1,text:"Nein"},{buttonValue:!0,text:"Ja"}],"model-value":t.rfid_enabling,"onUpdate:modelValue":t=>e.updateState(a,t,"rfid_enabling")},null,8,["model-value","onUpdate:modelValue"]),(0,n.Wm)(A,{title:"Zugeordnete Tags",noElementsMessage:"Keine Tags zugeordnet.","model-value":t.valid_tags,"onUpdate:modelValue":t=>e.updateState(a,t,"valid_tags")},null,8,["model-value","onUpdate:modelValue"]),f])):(0,n.kq)("",!0),(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Automatische Sperre")])),_:1}),(0,n.Wm)(L,{title:"Automatische Sperre aktiv",buttons:[{buttonValue:!1,text:"Nein"},{buttonValue:!0,text:"Ja"}],"model-value":t.autolock.active,"onUpdate:modelValue":t=>e.updateState(a,t,"autolock.active")},null,8,["model-value","onUpdate:modelValue"]),(0,n.Wm)(L,{title:"Erst nach Ladeende sperren",buttons:[{buttonValue:!1,text:"Nein"},{buttonValue:!0,text:"Ja"}],"model-value":t.autolock.wait_for_charging_end,"onUpdate:modelValue":t=>e.updateState(a,t,"autolock.wait_for_charging_end")},{help:(0,n.w5)((()=>[(0,n.Uk)(' Wenn ein Zeitplan die automatische Sperre aktiviert, werden alle Ladepunkte direkt gesperrt und laufende Ladevorgänge beendet. Wird hier "Ja" ausgewählt, dann werden laufende Ladevorgänge nicht beendet, und diese Ladepunkte erst nach abgeschlossener Ladung gesperrt. ')])),_:2},1032,["model-value","onUpdate:modelValue"]),(0,n.Wm)(I,null,{actions:(0,n.w5)((()=>[(0,n.Wm)(x,{class:"bg-success clickable",onClick:e=>y.addChargePointTemplateAutolockPlan(a,e)},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{"fixed-width":"",icon:["fas","plus"]})])),_:2},1032,["onClick"])])),default:(0,n.w5)((()=>[(0,n.Uk)(" Zeitpläne für die automatische Sperre ")])),_:2},1024),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(y.getChargePointTemplateAutolockPlans(a),((t,l)=>((0,n.wg)(),(0,n.j4)(S,{key:l,title:t.name,collapsible:!0,collapsed:!0},{actions:(0,n.w5)((i=>[1==i.collapsed?((0,n.wg)(),(0,n.iD)("span",{key:0,class:(0,o.C_)(["subheader pill",t.active?"bg-success":"bg-danger"])},[(0,n.Wm)(W,{"fixed-width":"",icon:["fas","clock"]}),(0,n.Uk)(" "+(0,o.zw)(t.time[0])+" - "+(0,o.zw)(t.time[1])+" ",1),"once"==t.frequency.selected?((0,n.wg)(),(0,n.iD)("span",w,[(0,n.Wm)(W,{"fixed-width":"",icon:["fas","calendar-day"]}),(0,n.Uk)(" "+(0,o.zw)(e.formatDate(t.frequency.once[0])==e.formatDate(t.frequency.once[1])?e.formatDate(t.frequency.once[0]):e.formatDate(t.frequency.once[0])+" - "+e.formatDate(t.frequency.once[1])),1)])):(0,n.kq)("",!0),"daily"==t.frequency.selected?((0,n.wg)(),(0,n.iD)("span",k,[(0,n.Wm)(W,{"fixed-width":"",icon:["fas","calendar-week"]})])):(0,n.kq)("",!0),"weekly"==t.frequency.selected?((0,n.wg)(),(0,n.iD)("span",P,[(0,n.Wm)(W,{"fixed-width":"",icon:["fas","calendar-alt"]})])):(0,n.kq)("",!0)],2)):(0,n.kq)("",!0),0==i.collapsed?((0,n.wg)(),(0,n.j4)(x,{key:1,class:"bg-danger clickable",onClick:e=>y.removeChargePointTemplateAutolockPlanModal(a,l,e)},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{"fixed-width":"",icon:["fas","trash"]})])),_:2},1032,["onClick"])):(0,n.kq)("",!0)])),default:(0,n.w5)((()=>[(0,n.Wm)(U,{title:"Bezeichnung","model-value":t.name,"onUpdate:modelValue":t=>e.updateState(l,t,"name")},null,8,["model-value","onUpdate:modelValue"]),(0,n.Wm)(L,{title:"Zeitplan aktiv",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":t.active,"onUpdate:modelValue":t=>e.updateState(l,t,"active")},null,8,["model-value","onUpdate:modelValue"]),(0,n.Wm)(U,{title:"Sperren um",subtype:"time","model-value":t.time[0],"onUpdate:modelValue":t=>e.updateState(l,t,"time.0")},null,8,["model-value","onUpdate:modelValue"]),(0,n.Wm)(U,{title:"Freigeben um",subtype:"time","model-value":t.time[1],"onUpdate:modelValue":t=>e.updateState(l,t,"time.1")},null,8,["model-value","onUpdate:modelValue"]),(0,n.Wm)(L,{title:"Wiederholungen",buttons:[{buttonValue:"once",text:"Einmalig",class:"btn-outline-info"},{buttonValue:"daily",text:"Täglich",class:"btn-outline-info"},{buttonValue:"weekly",text:"Wöchentlich",class:"btn-outline-info"}],"model-value":t.frequency.selected,"onUpdate:modelValue":t=>e.updateState(l,t,"frequency.selected")},null,8,["model-value","onUpdate:modelValue"]),"once"==t.frequency.selected?((0,n.wg)(),(0,n.j4)(U,{key:0,title:"Sperren ab ...",subtype:"date","model-value":t.frequency.once[0],"onUpdate:modelValue":t=>e.updateState(l,t,"frequency.once.0")},null,8,["model-value","onUpdate:modelValue"])):(0,n.kq)("",!0),"once"==t.frequency.selected?((0,n.wg)(),(0,n.j4)(U,{key:1,title:"... bis",subtype:"date",min:t.frequency.once[0],"model-value":t.frequency.once[1],"onUpdate:modelValue":t=>e.updateState(l,t,"frequency.once.1")},null,8,["min","model-value","onUpdate:modelValue"])):(0,n.kq)("",!0),"weekly"==t.frequency.selected?((0,n.wg)(),(0,n.iD)("div",v,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.weekdays,((a,o)=>((0,n.wg)(),(0,n.j4)(L,{key:o,title:a,buttons:[{buttonValue:!1,text:"Aus",class:"btn-outline-danger"},{buttonValue:!0,text:"An",class:"btn-outline-success"}],"model-value":t.frequency.weekly[o],"onUpdate:modelValue":t=>e.updateState(l,t,"frequency.weekly."+o)},null,8,["title","model-value","onUpdate:modelValue"])))),128))])):(0,n.kq)("",!0)])),_:2},1032,["title"])))),128))])),_:2},[a.endsWith("/0")?void 0:{name:"actions",fn:(0,n.w5)((()=>[(0,n.Wm)(x,{class:"bg-danger clickable",onClick:e=>y.removeChargePointTemplateModal(a,e)},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{"fixed-width":"",icon:["fas","trash"]})])),_:2},1032,["onClick"])])),key:"0"}]),1032,["title"])))),128))])),_:1}),(0,n.Wm)(D,{formName:"chargePointInstallationForm",onSave:t[4]||(t[4]=t=>e.$emit("save")),onReset:t[5]||(t[5]=t=>e.$emit("reset")),onDefaults:t[6]||(t[6]=t=>e.$emit("defaults"))})])])],64)}var y=a(8947),V=a(1436),W=a(7810),_=a(7029);const T={key:1};function x(e,t,a,l,i,d){const u=(0,n.up)("openwb-base-alert"),r=(0,n.up)("openwb-base-textarea");return i.chargePointTemplateFound?((0,n.wg)(),(0,n.j4)((0,n.LL)(d.myComponent),{key:0,configuration:a.configuration,chargePointId:a.chargePointId,"onUpdate:configuration":t[0]||(t[0]=e=>d.updateConfiguration(e))},null,40,["configuration","chargePointId"])):((0,n.wg)(),(0,n.iD)("div",T,[(0,n.Wm)(u,{subtype:"warning"},{default:(0,n.w5)((()=>[(0,n.Uk)(' Es wurde keine Konfigurationsseite für den Ladepunkt-Typ "'+(0,o.zw)(a.chargePointType)+'" gefunden. Die Einstellungen können als JSON direkt bearbeitet werden. ',1)])),_:1}),(0,n.Wm)(r,{title:"Konfiguration",subtype:"json","model-value":a.configuration,"onUpdate:modelValue":t[1]||(t[1]=e=>d.updateConfiguration({value:e,object:"connection_module.configuration"}))},{help:(0,n.w5)((()=>[(0,n.Uk)(" Bitte prüfen Sie, ob die Eingaben richtig interpretiert werden. ")])),_:1},8,["model-value"]),(0,n.Wm)(u,{subtype:"info"},{default:(0,n.w5)((()=>[(0,n._)("pre",null,(0,o.zw)(JSON.stringify(a.configuration,void 0,2)),1)])),_:1})]))}var U={name:"OpenwbChargePointProxy",emits:["update:configuration"],props:{chargePointId:{required:!0},chargePointType:{type:String,required:!0},configuration:{type:Object,required:!0}},data(){return{chargePointTemplateFound:!0}},computed:{myComponent(){return console.debug(`loading charge point: ${this.chargePointType}`),(0,n.RC)((()=>a(9345)(`./${this.chargePointType}/chargePoint.vue`).then((e=>(this.chargePointTemplateFound=!0,e))).catch((e=>{console.warn("charge point template not found",e),this.chargePointTemplateFound=!1}))))}},methods:{updateConfiguration(e){this.$emit("update:configuration",e)}}},q=a(3744);const I=(0,q.Z)(U,[["render",x]]);var L=I;y.vI.add(V.r8p,V.$aW,V.$nv,V.IV4,V.Nl7);var S={name:"OpenwbChargePointInstallation",mixins:[_.Z],emits:["sendCommand"],components:{FontAwesomeIcon:W.GN,OpenwbChargePointProxy:L},data(){return{mqttTopicsToSubscribe:["openWB/general/extern","openWB/optional/rfid/active","openWB/chargepoint/+/config","openWB/chargepoint/template/+","openWB/chargepoint/template/+/autolock/+","openWB/system/configurable/chargepoints"],chargePointToAdd:void 0,showChargePointModal:!1,modalChargePointIndex:void 0,showChargePointTemplateModal:!1,modalChargePointTemplateIndex:void 0,showChargePointTemplateAutolockPlanModal:!1,modalChargePointTemplateAutolockPlanIndex:void 0}},computed:{installedChargePoints:{get(){return this.getWildcardTopics("openWB/chargepoint/+/config")}},chargePointTemplates:{get(){return this.getWildcardTopics("openWB/chargepoint/template/+")}},chargePointTemplateList:{get(){let e=[];return Object.keys(this.chargePointTemplates).forEach((t=>{let a=parseInt(t.match(/([0-9]+)/g)[0]),n=this.$store.state.mqtt["openWB/chargepoint/template/"+a].name;e.push({value:a,text:n})})),e}}},methods:{addChargePoint(e){e.stopPropagation(),this.$emit("sendCommand",{command:"addChargepoint",data:{type:this.chargePointToAdd}})},removeChargePointModal(e,t){t.stopPropagation(),this.modalChargePointIndex=parseInt(e.match(/(?:\/)(\d+)(?=\/)/)[1]),this.showChargePointModal=!0},removeChargePoint(e,t){this.showChargePointModal=!1,"confirm"==t&&(console.info("request removal of charge point '"+e+"'"),this.$emit("sendCommand",{command:"removeChargepoint",data:{id:e}}))},getChargePointList(){return this.$store.state.mqtt["openWB/system/configurable/chargepoints"]},getChargePointName(e){return this.$store.state.mqtt["openWB/chargepoint/"+e+"/config"]?this.$store.state.mqtt["openWB/chargepoint/"+e+"/config"].name:"Ladepunkt "+e},getChargePointTemplateName(e){return this.$store.state.mqtt["openWB/chargepoint/template/"+e]?this.$store.state.mqtt["openWB/chargepoint/template/"+e].name:"Vorlage "+e},addChargePointTemplate(e){e.stopPropagation(),this.$emit("sendCommand",{command:"addChargepointTemplate",data:{}})},getChargePointTemplateIndex(e){return parseInt(e.match(/([^/]+)$/)[0])},removeChargePointTemplateModal(e,t){t.stopPropagation(),this.modalChargePointTemplateIndex=this.getChargePointTemplateIndex(e),this.showChargePointTemplateModal=!0},removeChargePointTemplate(e,t){this.showChargePointTemplateModal=!1,"confirm"==t&&(console.info("request removal of chargePoint template '"+e+"'"),this.$emit("sendCommand",{command:"removeChargepointTemplate",data:{id:e}}))},addChargePointTemplateAutolockPlan(e,t){t.stopPropagation(),console.info("requesting new charge point template autolock plan...");let a=this.getChargePointTemplateIndex(e);this.$emit("sendCommand",{command:"addAutolockPlan",data:{template:a}})},removeChargePointTemplateAutolockPlanModal(e,t,a){a.stopPropagation(),this.modalChargePointTemplateIndex=this.getChargePointTemplateIndex(e),this.modalChargePointTemplateAutolockPlanIndex=parseInt(t.match(/([^/]+)$/)[0]),this.showChargePointTemplateAutolockPlanModal=!0},removeChargePointTemplateAutolockPlan(e,t,a){this.showChargePointTemplateAutolockPlanModal=!1,"confirm"==a&&(console.info("request removal of chargePoint template '"+e+"' autolock plan '"+t+"'"),this.$emit("sendCommand",{command:"removeAutolockPlan",data:{template:e,plan:t}}))},getChargePointTemplateAutolockPlanName(e,t){return this.$store.state.mqtt["openWB/chargepoint/template/"+e+"/autolock/"+t]?this.$store.state.mqtt["openWB/chargepoint/template/"+e+"/autolock/"+t].name:"Autolock Zeitplan "+e+"/"+t},getChargePointTemplateAutolockPlans(e){let t=this.getChargePointTemplateIndex(e),a=this.getWildcardTopics("openWB/chargepoint/template/"+t+"/autolock/+");return a},updateConfiguration(e,t){console.debug("updateConfiguration",e,t),this.updateState(e,t.value,t.object)}}};const A=(0,q.Z)(S,[["render",C],["__scopeId","data-v-5a057060"]]);var D=A},9345:function(e,t,a){var n={"./external_openwb/chargePoint.vue":[397,397],"./mqtt/chargePoint.vue":[1104,1104],"./openwb_pro/chargePoint.vue":[8891,8891],"./smartwb/chargePoint.vue":[2495,2495]};function o(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return a.e(t[1]).then((function(){return a(o)}))}o.keys=function(){return Object.keys(n)},o.id=9345,e.exports=o}}]);
//# sourceMappingURL=ChargePointInstallation.d8f9bddc.js.map