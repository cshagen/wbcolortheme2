"use strict";(self["webpackChunkopenwb_ui_settings"]=self["webpackChunkopenwb_ui_settings"]||[]).push([[5595],{1395:function(e,a,n){n.r(a),n.d(a,{default:function(){return W}});var t=n(6252);const l={class:"pvChargeConfig"},i={name:"pvChargeConfigForm"},r={key:0},o={key:1},g=(0,t._)("br",null,null,-1),u=(0,t._)("hr",null,null,-1),d=(0,t._)("hr",null,null,-1),s={key:0},c={key:1},h={key:0},p={key:1},m=(0,t._)("br",null,null,-1);function _(e,a,n,_,v,b){const f=(0,t.up)("openwb-base-alert"),w=(0,t.up)("openwb-base-button-group-input"),W=(0,t.up)("openwb-base-number-input"),k=(0,t.up)("openwb-base-card"),B=(0,t.up)("openwb-base-range-input"),U=(0,t.up)("openwb-base-submit-buttons");return(0,t.wg)(),(0,t.iD)("div",l,[(0,t._)("form",i,[(0,t.Wm)(k,{title:"Regelparameter"},{default:(0,t.w5)((()=>[!0===e.$store.state.mqtt["openWB/general/extern"]?((0,t.wg)(),(0,t.iD)("div",r,[(0,t.Wm)(f,{subtype:"info"},{default:(0,t.w5)((()=>[(0,t.Uk)(' Diese Einstellungen sind nicht verfügbar, solange sich diese openWB im Modus "Nur Ladepunkt" befindet. ')])),_:1})])):((0,t.wg)(),(0,t.iD)("div",o,[(0,t.Wm)(w,{title:"Regelmodus",buttons:[{buttonValue:"export",text:"Einspeisung"},{buttonValue:"import",text:"Bezug"},{buttonValue:"individual",text:"Individuell"}],"model-value":b.calculateControlMode(),"onUpdate:modelValue":a[0]||(a[0]=e=>b.setControlMode(e))},{help:(0,t.w5)((()=>[(0,t.Uk)(' Mit dieser Einstellung wird der angestrebte Regelbereich festgelegt. "Einspeisung" und "Bezug" definieren einen Bereich mit minimaler Einspeisung (-230W, 0W) bzw. minimalem Netzbezug (0W, 230W). Mit der Auswahl "individuell" kann ein eigener Regelbereich definiert werden. ')])),_:1},8,["model-value"]),"individual"===b.calculateControlMode()?((0,t.wg)(),(0,t.j4)(W,{key:0,title:"Minimum",unit:"kW","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/control_range"][0]/1e3,"onUpdate:modelValue":a[1]||(a[1]=a=>e.updateState("openWB/general/chargemode_config/pv_charging/control_range",1e3*a,"0"))},{help:(0,t.w5)((()=>[(0,t.Uk)(" Untere Grenze des Regelbereichs. ")])),_:1},8,["model-value"])):(0,t.kq)("",!0),"individual"===b.calculateControlMode()?((0,t.wg)(),(0,t.j4)(W,{key:1,title:"Maximum",unit:"kW","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/control_range"][1]/1e3,"onUpdate:modelValue":a[2]||(a[2]=a=>e.updateState("openWB/general/chargemode_config/pv_charging/control_range",1e3*a,"1"))},{help:(0,t.w5)((()=>[(0,t.Uk)("Obere Grenze des Regelbereichs.")])),_:1},8,["model-value"])):(0,t.kq)("",!0),(0,t.Wm)(W,{title:"Regelpunkt Einspeisegrenze",min:0,step:.05,unit:"kW","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/feed_in_yield"]/1e3,"onUpdate:modelValue":a[3]||(a[3]=a=>e.updateState("openWB/general/chargemode_config/pv_charging/feed_in_yield",1e3*a))},{help:(0,t.w5)((()=>[(0,t.Uk)(' Hier ist die vorgeschriebene Einspeisegrenze anzugeben. Wird die Option "Einspeisegrenze beachten" für ein Ladeprofil eingeschaltet, dann wird der Regelpunkt auf diesen Wert verschoben. Die Ladung startet demnach erst, wenn der hier hinterlegte Wert an Einspeisung erreicht wird. Der hier eingetragene Wert sollte zur optimalen Eigenverbrauchssteuerung einige hundert Watt unter der im Wechselrichter hinterlegten Einspeisegrenze liegen, damit openWB die Ladung freigibt, bevor der Wechselrichter begrenzt wird.'),g,(0,t.Uk)(" Die Nutzung dieser Option ergibt nur Sinn, wenn ein Wechselrichter mit Smart-Meter verbaut ist welches eine dynamische Begrenzung der Einspeiseleistung bietet. ")])),_:1},8,["step","model-value"]),u,(0,t.Wm)(W,{title:"Einschaltschwelle",min:0,step:.05,unit:"kW","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/switch_on_threshold"]/1e3,"onUpdate:modelValue":a[4]||(a[4]=a=>e.updateState("openWB/general/chargemode_config/pv_charging/switch_on_threshold",1e3*a))},{help:(0,t.w5)((()=>[(0,t.Uk)(" Ist in Abhängigkeit von dem gesetzten Regelbereich mehr als die hier hinterlegte Leistung (pro Phase) verfügbar, dann wird der Ladevorgang gestartet. ")])),_:1},8,["step","model-value"]),(0,t.Wm)(W,{title:"Einschaltverzögerung",min:0,step:1,unit:"s","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/switch_on_delay"],"onUpdate:modelValue":a[5]||(a[5]=a=>e.updateState("openWB/general/chargemode_config/pv_charging/switch_on_delay",a))},{help:(0,t.w5)((()=>[(0,t.Uk)(" Die Einschaltschwelle muss für die hier angegebene Zeit dauerhaft überschritten werden, bevor ein Ladevorgang gestartet wird. ")])),_:1},8,["model-value"]),d,(0,t.Wm)(W,{title:"Abschaltschwelle",min:0,step:.05,unit:"kW","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/switch_off_threshold"]/1e3,"onUpdate:modelValue":a[6]||(a[6]=a=>e.updateState("openWB/general/chargemode_config/pv_charging/switch_off_threshold",1e3*a))},{help:(0,t.w5)((()=>[(0,t.Uk)(" Wird der Regelbereich um diese Leistung unterschritten, so wird der Ladevorgang beendet oder (falls möglich) auf eine einphasige Ladung umgeschaltet. ")])),_:1},8,["step","model-value"]),(0,t.Wm)(W,{title:"Abschaltverzögerung",min:0,step:1,unit:"s","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/switch_off_delay"],"onUpdate:modelValue":a[7]||(a[7]=a=>e.updateState("openWB/general/chargemode_config/pv_charging/switch_off_delay",a))},{help:(0,t.w5)((()=>[(0,t.Uk)(" Die Abschaltschwelle muss für die hier angegebene Zeit dauerhaft unterschritten werden, bevor ein Ladevorgang beendet wird. ")])),_:1},8,["model-value"])]))])),_:1}),(0,t.Wm)(k,{title:"Phasenumschaltung"},{default:(0,t.w5)((()=>[!0===e.$store.state.mqtt["openWB/general/extern"]?((0,t.wg)(),(0,t.iD)("div",s,[(0,t.Wm)(f,{subtype:"info"},{default:(0,t.w5)((()=>[(0,t.Uk)(' Diese Einstellungen sind nicht verfügbar, solange sich diese openWB im Modus "Nur Ladepunkt" befindet. ')])),_:1})])):((0,t.wg)(),(0,t.iD)("div",c,[(0,t.Wm)(w,{title:"Anzahl Phasen",buttons:[{buttonValue:1,text:"1"},{buttonValue:3,text:"Maximum"},{buttonValue:0,text:"Automatik"}],"model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/phases_to_use"],"onUpdate:modelValue":a[8]||(a[8]=a=>e.updateState("openWB/general/chargemode_config/pv_charging/phases_to_use",a))},{help:(0,t.w5)((()=>[(0,t.Uk)(' Hier kann eingestellt werden, ob Ladevorgänge im Modus "Zielladen" mit nur einer Phase oder dem möglichen Maximum in Abhängigkeit vom Ladepunkt und Fahrzeug durchgeführt werden. Im Modus "Automatik" entscheidet die Regelung, welche Einstellung genutzt wird, um den verfügbaren Überschuss in die Fahrzeuge zu laden. ')])),_:1},8,["model-value"]),0==e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/phases_to_use"]?((0,t.wg)(),(0,t.j4)(B,{key:0,title:"Verzögerung automat. Phasenumschaltung",min:1,max:15,step:1,unit:"Min.","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/phase_switch_delay"],"onUpdate:modelValue":a[9]||(a[9]=a=>e.updateState("openWB/general/chargemode_config/pv_charging/phase_switch_delay",a))},{help:(0,t.w5)((()=>[(0,t.Uk)(" Um zu viele Umschaltungen zu vermeiden, wird Anhand dieses Wertes definiert, wann die Umschaltung erfolgen soll. Ist für durchgehend x Minuten die Maximalstromstärke erreicht, wird auf mehrphasige Ladung umgestellt. Ist die Ladung nur für ein Intervall unterhalb der Maximalstromstärke, beginnt das Intervall für die Umschaltung erneut. Ist die Ladung im mehrphasigen Modus für 16 - x Minuten auf der Minimalstromstärke, wird wieder auf einphasige Ladung gewechselt. ")])),_:1},8,["model-value"])):(0,t.kq)("",!0)]))])),_:1}),(0,t.Wm)(k,{title:"Speicher-Beachtung"},{default:(0,t.w5)((()=>[!0===e.$store.state.mqtt["openWB/general/extern"]?((0,t.wg)(),(0,t.iD)("div",h,[(0,t.Wm)(f,{subtype:"info"},{default:(0,t.w5)((()=>[(0,t.Uk)(' Diese Einstellungen sind nicht verfügbar, solange sich diese openWB im Modus "Nur Ladepunkt" befindet. ')])),_:1})])):((0,t.wg)(),(0,t.iD)("div",p,[(0,t.Wm)(w,{title:"Priorisierung",buttons:[{buttonValue:!1,text:"Fahrzeuge"},{buttonValue:!0,text:"Speicher"}],"model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/bat_prio"],"onUpdate:modelValue":a[10]||(a[10]=a=>e.updateState("openWB/general/chargemode_config/pv_charging/bat_prio",a))},{help:(0,t.w5)((()=>[(0,t.Uk)(' Bei der Auswahl "Fahrzeuge" wird auch eventuell vorhandene Ladeleistung eines Speichers für die verfügbare Ladeleistung berücksichtigt. Im Modus "Speicher" hingegen wird dieser nicht in seiner Ladeleistung begrenzt.'),m,(0,t.Uk)(" Beide Modi lassen sich mit den zusätzlichen Einstellungen an die eigenen Bedürfnisse anpassen, sodass auch ein Mischbetrieb möglich ist. ")])),_:1},8,["model-value"]),(0,t.Wm)(B,{title:"Einschalt-SoC",min:0,max:19,step:1,unit:"%",labels:[{label:"Aus",value:0},{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95}],"model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/switch_on_soc"],"onUpdate:modelValue":a[11]||(a[11]=a=>e.updateState("openWB/general/chargemode_config/pv_charging/switch_on_soc",a))},{help:(0,t.w5)((()=>[(0,t.Uk)("Hilfetext")])),_:1},8,["model-value"]),(0,t.Wm)(B,{title:"Ausschalt-SoC",min:0,max:19,step:1,unit:"%",labels:[{label:"Aus",value:0},{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95}],"model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/switch_off_soc"],"onUpdate:modelValue":a[12]||(a[12]=a=>e.updateState("openWB/general/chargemode_config/pv_charging/switch_off_soc",a))},{help:(0,t.w5)((()=>[(0,t.Uk)("Hilfetext")])),_:1},8,["model-value"]),(0,t.Wm)(W,{title:"Reservierte Ladeleistung",min:0,step:.1,unit:"kW","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/charging_power_reserve"]/1e3,"onUpdate:modelValue":a[13]||(a[13]=a=>e.updateState("openWB/general/chargemode_config/pv_charging/charging_power_reserve",1e3*a))},{help:(0,t.w5)((()=>[(0,t.Uk)("Hilfetext")])),_:1},8,["step","model-value"]),(0,t.Wm)(W,{title:"Erlaubte Entladeleistung",min:0,step:.1,unit:"kW","model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/rundown_power"]/1e3,"onUpdate:modelValue":a[14]||(a[14]=a=>e.updateState("openWB/general/chargemode_config/pv_charging/rundown_power",1e3*a))},{help:(0,t.w5)((()=>[(0,t.Uk)("Hilfetext")])),_:1},8,["step","model-value"]),(0,t.Wm)(B,{title:"Minimaler Entlade-SoC",min:0,max:20,step:1,unit:"%",labels:[{label:0,value:0},{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95},{label:"Aus",value:100}],"model-value":e.$store.state.mqtt["openWB/general/chargemode_config/pv_charging/rundown_soc"],"onUpdate:modelValue":a[15]||(a[15]=a=>e.updateState("openWB/general/chargemode_config/pv_charging/rundown_soc",a))},{help:(0,t.w5)((()=>[(0,t.Uk)(" Ein vorhandener Speicher wird höchstens bis zu dem hier eingestellten Ladestand entladen. ")])),_:1},8,["model-value"])]))])),_:1}),(0,t.Wm)(U,{formName:"pvChargeConfigForm",onSave:a[16]||(a[16]=a=>e.$emit("save")),onReset:a[17]||(a[17]=a=>e.$emit("reset")),onDefaults:a[18]||(a[18]=a=>e.$emit("defaults"))})])])}var v=n(7029),b={name:"OpenwbPVChargeConfig",mixins:[v.Z],methods:{calculateControlMode(){const e="openWB/general/chargemode_config/pv_charging/control_range";let a=this.$store.state.mqtt[e];if("undefined"!=typeof a)return-230===a[0]&&0===a[1]?"export":0===a[0]&&230===a[1]?"import":"individual"},setControlMode(e){const a="openWB/general/chargemode_config/pv_charging/control_range";switch(console.debug("set controlMode",e),e){case"export":this.updateState(a,[-230,0]);break;case"import":this.updateState(a,[0,230]);break;case"individual":this.updateState(a,[-230,230]);break}}},data(){return{mqttTopicsToSubscribe:["openWB/general/extern","openWB/general/chargemode_config/pv_charging/control_range","openWB/general/chargemode_config/pv_charging/feed_in_yield","openWB/general/chargemode_config/pv_charging/switch_on_threshold","openWB/general/chargemode_config/pv_charging/switch_on_delay","openWB/general/chargemode_config/pv_charging/switch_off_threshold","openWB/general/chargemode_config/pv_charging/switch_off_delay","openWB/general/chargemode_config/pv_charging/phases_to_use","openWB/general/chargemode_config/pv_charging/phase_switch_delay","openWB/general/chargemode_config/pv_charging/bat_prio","openWB/general/chargemode_config/pv_charging/switch_on_soc","openWB/general/chargemode_config/pv_charging/switch_off_soc","openWB/general/chargemode_config/pv_charging/charging_power_reserve","openWB/general/chargemode_config/pv_charging/rundown_power","openWB/general/chargemode_config/pv_charging/rundown_soc"]}}},f=n(3744);const w=(0,f.Z)(b,[["render",_]]);var W=w}}]);
//# sourceMappingURL=PVChargeConfig.20093e81.js.map